<ResourceDictionary
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:atom="https://atomui.net"
    xmlns:themes="using:AtomUI.Desktop.Controls.Themes"
    x:ClassModifier="internal">
    <ControlTheme x:Key="{x:Type atom:MessageBoxDialogHost}" TargetType="atom:MessageBoxDialogHost">
        <ControlTheme.BasedOn>
            <themes:DialogHostTheme TargetType="atom:MessageBoxDialogHost" />
        </ControlTheme.BasedOn>
        
        <Setter Property="Template">
            <ControlTemplate>
                <Panel>
                    <Border Name="WindowFrame"
                            Background="{TemplateBinding Background}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            BackgroundSizing="InnerBorderEdge" />
                    <Border Name="BodyFrame"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            ClipToBounds="True">
                        <atom:VisualLayerManager Padding="{TemplateBinding OffScreenMargin, Mode=OneWay}">
                            <DockPanel LastChildFill="True"
                                       Name="{x:Static atom:WindowThemeConstants.ContentLayoutPart}">
                                <Border Padding="{TemplateBinding TitleBarOSOffsetMargin}" DockPanel.Dock="Top">
                                    <atom:TitleBar Name="{x:Static atom:WindowThemeConstants.TitleBarPart}"
                                                   Content="{TemplateBinding Title}"
                                                   Logo="{TemplateBinding Logo}" />
                                </Border>

                                <DockPanel LastChildFill="True">
                                    <Border Name="FooterFrame" DockPanel.Dock="Bottom"
                                            IsVisible="{TemplateBinding IsEffectiveFooterVisible}">
                                        <atom:DialogButtonBox Name="{x:Static atom:DialogThemeConstants.ButtonBoxPart}"
                                                              IsMotionEnabled="{TemplateBinding IsMotionEnabled}"
                                                              StandardButtons="{TemplateBinding StandardButtons}"
                                                              DefaultStandardButton="{TemplateBinding DefaultStandardButton}"
                                                              EscapeStandardButton="{TemplateBinding EscapeStandardButton}" />
                                    </Border>
                                    <Border Name="ContentFrame"
                                            CornerRadius="{TemplateBinding CornerRadius}"
                                            ClipToBounds="True"
                                            Cursor="Arrow"
                                            Padding="{TemplateBinding Padding}">
                                        <DockPanel LastChildFill="True"
                                                   HorizontalSpacing="{DynamicResource {x:Static atom:SharedTokenKey.SpacingSM}}">
                                            <atom:IconPresenter Name="StyleIconPresenter"
                                                                Icon="{TemplateBinding StyleIcon}"
                                                                VerticalAlignment="Top"
                                                                IsVisible="{TemplateBinding StyleIcon, Converter={x:Static ObjectConverters.IsNotNull}}" />
                                            <ContentPresenter
                                                Name="{x:Static atom:WindowThemeConstants.ContentPresenterPart}"
                                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                                Content="{TemplateBinding Content}"
                                                HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                                        </DockPanel>
                                    </Border>
                                </DockPanel>

                            </DockPanel>
                        </atom:VisualLayerManager>
                    </Border>
                    <atom:WindowResizer Name="{x:Static atom:WindowThemeConstants.WindowResizerPart}"
                                        IsVisible="{Binding $parent[atom:Window].IsCustomResizerVisible}" />
                </Panel>

            </ControlTemplate>
        </Setter>

        <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
            <Setter Property="Width" Value="{DynamicResource {x:Static atom:MessageBoxTokenKey.StyleIconSize}}" />
            <Setter Property="Height" Value="{DynamicResource {x:Static atom:MessageBoxTokenKey.StyleIconSize}}" />
        </Style>

        <Style Selector="^[Style=Confirm]">
            <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorWarning}}" />
            </Style>
        </Style>

        <Style Selector="^[Style=Information]">
            <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
                <Setter Property="Foreground" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorInfo}}" />
            </Style>
        </Style>

        <Style Selector="^[Style=Success]">
            <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorSuccess}}" />
            </Style>
        </Style>

        <Style Selector="^[Style=Error]">
            <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorError}}" />
            </Style>
        </Style>

        <Style Selector="^[Style=Warning]">
            <Style Selector="^ /template/ atom|IconPresenter#StyleIconPresenter">
                <Setter Property="Foreground"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorWarning}}" />
            </Style>
        </Style>
    </ControlTheme>
</ResourceDictionary>