<ResourceDictionary
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:atom="https://atomui.net"
    xmlns:antdicons="https://atomui.net/icons/antdesign"
    x:ClassModifier="internal">
    <ControlTheme x:Key="{x:Type atom:Alert}" TargetType="atom:Alert">
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        Padding="{TemplateBinding Padding}">
                    <DockPanel Name="RootLayout" LastChildFill="True">
                        <Panel IsVisible="{TemplateBinding IsShowIcon}"
                               DockPanel.Dock="Left">
                            <antdicons:CheckCircleFilled Name="SuccessIcon"
                                                         Foreground="{DynamicResource {x:Static atom:SharedTokenKey.ColorSuccess}}"
                                                         IsVisible="False"/>
                            <antdicons:InfoCircleFilled Name="InfoIcon"
                                                        Foreground="{DynamicResource {x:Static atom:SharedTokenKey.ColorPrimary}}"
                                                        IsVisible="False"/>
                            <antdicons:ExclamationCircleFilled Name="WarningIcon"
                                                               Foreground="{DynamicResource {x:Static atom:SharedTokenKey.ColorWarning}}"
                                                               IsVisible="False"/>
                            <antdicons:CloseCircleFilled Name="ErrorIcon"
                                                         Foreground="{DynamicResource {x:Static atom:SharedTokenKey.ColorError}}"
                                                         IsVisible="False"/>
                        </Panel>
                        
                        <atom:IconButton
                            Name="{x:Static atom:AlertThemeConstants.CloseBtnPart}"
                            IsVisible="{TemplateBinding IsClosable}"
                            Icon="{TemplateBinding CloseIcon}"
                            DockPanel.Dock="Right" />
                        <ContentPresenter Name="ExtraActionPresenter"
                                          DockPanel.Dock="Right" 
                                          IsVisible="{TemplateBinding ExtraAction, Converter={x:Static ObjectConverters.IsNotNull}}"
                                          Content="{TemplateBinding ExtraAction}" />
                        <StackPanel Orientation="Vertical"
                                    VerticalAlignment="Center"
                                    ClipToBounds="True">
                            <Label Name="MessageLabel"
                                   HorizontalAlignment="Stretch"
                                   HorizontalContentAlignment="Left"
                                   VerticalContentAlignment="Center"
                                   Padding="0"
                                   TextBlock.TextWrapping="Wrap"
                                   Content="{TemplateBinding Message}" />
                            <atom:MarqueeLabel
                                Name="MarqueeLabel"
                                HorizontalAlignment="Stretch"
                                Padding="0"
                                IsVisible="{TemplateBinding IsMessageMarqueEnabled}"
                                Text="{TemplateBinding Message}" />
                            <Label Name="DescriptionLabel"
                                   HorizontalAlignment="Stretch"
                                   HorizontalContentAlignment="Left"
                                   VerticalContentAlignment="Center"
                                   Padding="0"
                                   IsVisible="{TemplateBinding Description, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                                   TextBlock.TextWrapping="Wrap"
                                   Content="{TemplateBinding Description}" />
                        </StackPanel>
                    </DockPanel>
                </Border>
            </ControlTemplate>
        </Setter>
        
        <Setter Property="CornerRadius" Value="{DynamicResource {x:Static atom:SharedTokenKey.BorderRadiusLG}}" />
        <Setter Property="BorderThickness" Value="{DynamicResource {x:Static atom:SharedTokenKey.BorderThickness}}" />
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Top"/>
        
        <Style Selector="^ /template/ DockPanel#RootLayout">
            <Setter Property="HorizontalSpacing" Value="{DynamicResource {x:Static atom:SharedTokenKey.SpacingXXS}}" />
        </Style>
 
        <Style Selector="^[Type=Success]">
            <Setter Property="Background" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorSuccessBg}}" />
            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorSuccessBorder}}" />
        </Style>

        <Style Selector="^[Type=Info]">
            <Setter Property="Background" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorInfoBg}}" />
            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorInfoBorder}}" />
        </Style>

        <Style Selector="^[Type=Warning]">
            <Setter Property="Background" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorWarningBg}}" />
            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorWarningBorder}}" />
        </Style>

        <Style Selector="^[Type=Error]">
            <Setter Property="Background" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorErrorBg}}" />
            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static atom:SharedTokenKey.ColorErrorBorder}}" />
        </Style>

        <Style Selector="^:not(:has-description)">
            <Setter Property="Padding" Value="{DynamicResource {x:Static atom:AlertTokenKey.DefaultPadding}}" />
        </Style>

        <Style Selector="^:has-description">
            <Setter Property="Padding" Value="{DynamicResource {x:Static atom:AlertTokenKey.WithDescriptionPadding}}" />
        </Style>
        
        <Style Selector="^:has-description">
            <Style Selector="^ /template/ Label#MessageLabel, ^ /template/ atom|MarqueeLabel#MarqueeLabel">
                <Setter Property="TemplatedControl.FontSize"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.FontSizeLG}}" />
                <Setter Property="TemplatedControl.VerticalAlignment" Value="Top" />
            </Style>
        </Style>
        <Style Selector="^:not(:has-description)">
            <Style Selector="^ /template/ Label#MessageLabel, ^ /template/ atom|MarqueeLabel#MarqueeLabel">
                <Setter Property="TemplatedControl.FontSize"
                        Value="{DynamicResource {x:Static atom:SharedTokenKey.FontSize}}" />
                <Setter Property="TemplatedControl.VerticalAlignment" Value="Stretch" />
            </Style>
        </Style>
        <Style Selector="^ /template/ Label#MessageLabel">
            <Setter Property="TextBox.LineHeight" Value="{DynamicResource {x:Static atom:SharedTokenKey.FontHeight}}" />
        </Style>
        <!-- 根据是否显示 MarqueeLabel 是指对应的样式 -->
        <Style Selector="^[IsMessageMarqueEnabled=True]">
            <Style Selector="^ /template/ Label#MessageLabel">
                <Setter Property="IsVisible" Value="False" />
            </Style>
        </Style>
        
        <Style Selector="^ /template/ Label#DescriptionLabel">
            <Setter Property="TextBox.LineHeight" Value="{DynamicResource {x:Static atom:SharedTokenKey.FontHeight}}" />
            <Setter Property="Margin" Value="{DynamicResource {x:Static atom:AlertTokenKey.DescriptionLabelMargin}}" />
        </Style>
 
        <Style Selector="^:has-description">
            <Style Selector="^ /template/ atom|IconButton#PART_CloseBtn">
                <Setter Property="VerticalAlignment" Value="Top" />
            </Style>
        </Style>

        <Style Selector="^:not(:has-description)">
            <Style Selector="^ /template/ atom|IconButton#PART_CloseBtn">
                <Setter Property="VerticalAlignment" Value="Center" />
            </Style>
        </Style>
        <Style Selector="^ /template/ atom|IconButton#PART_CloseBtn">
            <Setter Property="IconWidth" Value="{DynamicResource {x:Static atom:SharedTokenKey.IconSizeSM}}" />
            <Setter Property="IconHeight" Value="{DynamicResource {x:Static atom:SharedTokenKey.IconSizeSM}}" />
            <Setter Property="Margin" Value="{DynamicResource {x:Static atom:AlertTokenKey.ExtraElementMargin}}" />
        </Style>

        <Style Selector="^[Type=Success]">
            <Style Selector="^ /template/ atom|Icon#SuccessIcon">
                <Setter Property="IsVisible" Value="True" />
            </Style>
        </Style>

        <Style Selector="^[Type=Info]">
            <Style Selector="^ /template/ atom|Icon#InfoIcon">
                <Setter Property="IsVisible" Value="True" />
            </Style>
        </Style>

        <Style Selector="^[Type=Warning]">
            <Style Selector="^ /template/ atom|Icon#WarningIcon">
                <Setter Property="IsVisible" Value="True" /> 
            </Style>
        </Style>

        <Style Selector="^[Type=Error]">
            <Style Selector="^ /template/ atom|Icon#ErrorIcon">
                <Setter Property="IsVisible" Value="True" />
            </Style>
        </Style>
        <Style Selector="^:has-description">
            <Style Selector="^ /template/ atom|Icon">
                <Setter Property="Width"
                        Value="{DynamicResource {x:Static atom:AlertTokenKey.WithDescriptionIconSize}}" />
                <Setter Property="Height"
                        Value="{DynamicResource {x:Static atom:AlertTokenKey.WithDescriptionIconSize}}" />
                <Setter Property="Margin"
                        Value="{DynamicResource {x:Static atom:AlertTokenKey.IconWithDescriptionMargin}}" />
                <Setter Property="VerticalAlignment" Value="Top" />
            </Style>
        </Style>

        <Style Selector="^:not(:has-description)">
            <Style Selector="^ /template/ atom|Icon">
                <Setter Property="Width" Value="{DynamicResource {x:Static atom:AlertTokenKey.IconSize}}" />
                <Setter Property="Height" Value="{DynamicResource {x:Static atom:AlertTokenKey.IconSize}}" />
                <Setter Property="Margin" Value="{DynamicResource {x:Static atom:AlertTokenKey.IconDefaultMargin}}" />
                <Setter Property="VerticalAlignment" Value="Center" />
            </Style>
        </Style>

    </ControlTheme>
</ResourceDictionary>